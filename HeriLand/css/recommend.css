/* =========================================
   HeriLand æ¨è–¦é  CSSï¼ˆç„¡ JS ç‰ˆæœ¬ï¼‰
   A. é¢¨æ ¼ï¼šNetflix + æ—…éŠéˆæ„Ÿç‰†ã€æ¯›ç»ç’ƒã€å“ç‰Œè‰²
   ========================================= */

/* ---- è‰²ç¥¨èˆ‡å°ºå¯¸è®Šæ•¸ ---- */
:root {
  --brand-green: #1f6b4a;       /* æ£®æ—ç¶  */
  --brand-gold:  #c9a86a;       /* é¦™æª³é‡‘ */
  --ink-900:     #121416;
  --ink-700:     #2b2f33;
  --ink-500:     #555b61;
  --ink-300:     #8b949e;
  --ink-100:     #e9edf2;
  --bg-0:        #f7f9fb;       /* æ·ºåº• */
  --glass-bg:    rgba(255,255,255,0.6);
  --glass-stroke:rgba(255,255,255,0.35);
  --muted:       rgba(0,0,0,0.05);

  --radius-12:   12px;
  --radius-16:   16px;
  --radius-20:   20px;

  --shadow-1: 0 6px 18px rgba(0,0,0,0.08);
  --shadow-2: 0 10px 32px rgba(0,0,0,0.12);

  --title-18: 18px; /* æ¨™é¡Œ */
  --name-16:  16px; /* å•†å®¶åç¨± */
  --chip-12:  12px; /* chip */
}

/* ---- æ·±è‰²æ¨¡å¼ï¼ˆå¯ç”¨ [data-theme="dark"] ç½®é ‚è¦†è“‹ï¼‰ ---- */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-0:        #0c0d0e;
    --glass-bg:    rgba(22,24,28,0.55);
    --glass-stroke:rgba(255,255,255,0.08);
    --muted:       rgba(255,255,255,0.06);
    --ink-900:     #f2f4f7;
    --ink-700:     #d8dde3;
    --ink-500:     #a9b2bc;
    --ink-300:     #7c8794;
    --ink-100:     #23272e;
    --shadow-1: 0 6px 18px rgba(0,0,0,0.35);
    --shadow-2: 0 10px 32px rgba(0,0,0,0.45);
  }
}
:root[data-theme="dark"] {
  --bg-0:        #0c0d0e;
  --glass-bg:    rgba(22,24,28,0.55);
  --glass-stroke:rgba(255,255,255,0.08);
  --muted:       rgba(255,255,255,0.06);
  --ink-900:     #f2f4f7;
  --ink-700:     #d8dde3;
  --ink-500:     #a9b2bc;
  --ink-300:     #7c8794;
  --ink-100:     #23272e;
  --shadow-1: 0 6px 18px rgba(0,0,0,0.35);
  --shadow-2: 0 10px 32px rgba(0,0,0,0.45);
}

/* ---- Reset & Base ---- */
* { box-sizing: border-box; }
html, body {
  margin: 0; padding: 0;
  background: var(--bg-0);
  color: var(--ink-900);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans TC", "PingFang TC", "Heiti TC", Arial, sans-serif;
  line-height: 1.5;
}
img { display:block; width:100%; height:auto; }
a { color: inherit; text-decoration: none; }
ul { list-style: none; margin: 0; padding: 0; }

/* ---- Headerï¼ˆæ¯›ç»ç’ƒå°è¦½åˆ—ï¼‰ ---- */
header[role="banner"] {
  position: sticky; top: 0; z-index: 20;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: var(--glass-bg);
  border-bottom: 1px solid var(--glass-stroke);
}
header nav {
  max-width: 1120px; margin: 0 auto; padding: 12px 16px;
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 8px;
}
#btn-back-member { justify-self: start; padding: 6px 10px; border-radius: 10px; background: var(--muted); }
#page-title { margin: 0; font-size: 20px; font-weight: 700; text-align: center; letter-spacing: 0.5px; }
#btn-home { justify-self: end; padding: 6px 10px; border-radius: 10px; color: var(--brand-green); font-weight: 700; }

/* ---- ä¸»å®¹å™¨èˆ‡åˆ†æ®µç•™ç™½ ---- */
main#recommend-root {
  max-width: 1120px; margin: 20px auto 80px; padding: 0 16px;
}
section { margin: 28px 0 40px; }

/* ---- åˆ†æ®µæ¨™é¡Œï¼ˆå“ç‰Œè‰²å¼·èª¿ + Banner/å‰ç¶´iconï¼‰ ---- */
section > header {
  display:flex; align-items: center; justify-content: space-between; gap: 12px;
  margin-bottom: 16px;
}
section > header h2 {
  margin: 0; font-size: var(--title-18); font-weight: 800;
  display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: linear-gradient( to right, color-mix(in srgb, var(--brand-green) 16%, transparent), transparent );
  border: 1px solid color-mix(in srgb, var(--brand-green) 38%, var(--glass-stroke));
}
#sec-city-for-you > header h2::before { content: "ğŸ™ï¸"; }
#sec-you-may-like   > header h2::before { content: "ğŸ”®"; }
#sec-trending       > header h2::before { content: "ğŸ”¥"; }
#sec-stories        > header h2::before { content: "ğŸ“–"; }
#sec-events         > header h2::before { content: "ğŸª"; }

/* ---- Chips ---- */
.chips { display:flex; gap: 8px; flex-wrap: wrap; }
.chip {
  font-size: var(--chip-12); line-height: 1; padding: 8px 10px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--brand-green) 8%, var(--muted));
  border: 1px dashed color-mix(in srgb, var(--brand-green) 45%, transparent);
  color: color-mix(in srgb, var(--brand-green) 75%, var(--ink-700));
}

/* =========================================
   B. å¡ç‰‡ç‰ˆå‹ï¼šå…©æ¬„ï¼ä¸‰æ¬„ + æ¯›ç»ç’ƒ
   ========================================= */

/* ---- é€šç”¨å¡ç‰‡æ¸…å–® ---- */
.card-list {
  display: grid; gap: 16px;
}

/* å…©æ¬„å¤§å¡ï¼ˆåŸå¸‚ / çŒœä½ æœƒå–œæ­¡ï¼‰ï¼šåœ–ç‰‡+æ–‡å­—+chips */
#sec-city-for-you .card-list,
#sec-you-may-like .card-list {
  grid-template-columns: repeat(2, minmax(0,1fr));
}

/* ä¸‰æ¬„ç·Šæ¹Šå¡ï¼ˆç†±é–€æ’è¡Œæ¦œï¼‰ */
#sec-trending .card-list {
  grid-template-columns: repeat(3, minmax(0,1fr));
}

/* æ•…äº‹çŸ©å½¢å¡ï¼ˆIG é™å‹•æ„Ÿï¼‰ */
#sec-stories .card-list {
  grid-template-columns: repeat(3, minmax(0,1fr));
}

/* RWD */
@media (max-width: 920px) {
  #sec-trending .card-list,
  #sec-stories .card-list { grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 640px) {
  #sec-city-for-you .card-list,
  #sec-you-may-like .card-list,
  #sec-trending .card-list,
  #sec-stories .card-list { grid-template-columns: 1fr; }
}

/* ---- å¡ç‰‡é€šç”¨æ¨£å¼ ---- */
.card {
  position: relative; overflow: clip;
  border-radius: var(--radius-16);
  background: var(--glass-bg);
  border: 1px solid var(--glass-stroke);
  box-shadow: var(--shadow-1);
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
.card:hover { transform: translateY(-2px); box-shadow: var(--shadow-2); border-color: color-mix(in srgb, var(--brand-green) 18%, var(--glass-stroke)); }
.card-link { display:block; color: inherit; }
.card-media { aspect-ratio: 16/10; overflow: hidden; background: var(--muted); }
.card-body { padding: 12px 14px 10px; }
.card-title { margin: 0 0 6px; font-size: var(--name-16); font-weight: 700; }
.card-subtitle { margin: 0 0 6px; color: var(--ink-500); font-weight: 600; }
.card-meta { margin: 0; color: var(--ink-300); font-size: 13px; }

/* å¡ç‰‡åº•éƒ¨æ“ä½œåˆ— */
.card-actions {
  display:flex; gap: 10px; align-items: center; padding: 10px 14px 14px;
}
.card-actions .btn-fav,
.card-actions .btn-add,
.card-actions .btn-hide,
.card-actions .btn-share {
  appearance: none; border: 0; cursor: pointer;
  font: inherit; color: inherit;
  padding: 8px 12px; border-radius: 999px;
  background: var(--ink-100);
  transition: transform .12s ease, background .12s ease, opacity .12s ease;
}
.card-actions .btn-add {
  background: color-mix(in srgb, var(--brand-green) 14%, var(--ink-100));
  color: color-mix(in srgb, white 96%, var(--brand-green));
  border: 1px solid color-mix(in srgb, var(--brand-green) 50%, transparent);
}
.card-actions .btn-fav:active,
.card-actions .btn-add:active,
.card-actions .btn-hide:active { transform: scale(0.94); }

/* C. äº’å‹•æ•ˆæœè¦–è¦ºï¼šç‹€æ…‹ç”¨é¡ååˆ‡æ›ï¼ˆæœªå« JSï¼‰ */
.btn-fav.is-active { 
  background: color-mix(in srgb, var(--brand-gold) 18%, var(--ink-100));
  border: 1px solid color-mix(in srgb, var(--brand-gold) 55%, transparent);
  animation: fav-bounce .2s ease;
}
@keyframes fav-bounce {
  0% { transform: scale(1); }
  50%{ transform: scale(1.18); }
  100%{ transform: scale(1); }
}

.btn-add.is-added {
  background: color-mix(in srgb, var(--brand-green) 36%, var(--ink-100));
  color: #fff; position: relative;
}
.btn-add.is-added::after {
  content: "âœ… å·²åŠ å…¥"; margin-left: 6px; font-weight: 700;
}

/* ä¸æ„Ÿèˆˆè¶£ï¼šéš±è—æ™‚æ·¡å‡ºæ»‘ä¸‹ï¼ˆçµ¦ .is-hiddenï¼‰ */
.card.is-hidden {
  opacity: 0; transform: translateY(10px); pointer-events: none; transition: opacity .18s ease, transform .18s ease;
}

/* å°é¸å–®å¤–è§€ï¼ˆç´” CSS çš®è†šï¼Œå¯¦éš›é–‹é—œé  JS æœªå¯¦ä½œï¼‰ */
.card .dropdown {
  position: absolute; right: 10px; top: 10px; z-index: 5;
  background: var(--glass-bg); border:1px solid var(--glass-stroke);
  border-radius: 10px; box-shadow: var(--shadow-2); padding: 6px; display:none;
}
.card.show-dropdown .dropdown { display:block; }

/* ---- çŒœä½ æœƒå–œæ­¡ï¼šå¡ç‰‡å…§ã€Œæ¨è–¦ç†ç”±ã€å° chip ---- */
#sec-you-may-like .card-body::after {
  content: attr(data-reason);
  display: inline-block; margin-top: 6px; padding: 6px 8px; font-size: var(--chip-12);
  border-radius: 999px;
  background: color-mix(in srgb, var(--brand-gold) 14%, var(--muted));
  border: 1px solid color-mix(in srgb, var(--brand-gold) 45%, transparent);
  color: color-mix(in srgb, var(--brand-gold) 70%, var(--ink-700));
}

/* ---- ç†±é–€é«”é©—ï¼šæ›´ç·Šæ¹Šçš„æ’è¡Œæ¦œè¦–è¦º ---- */
#sec-trending .card { border-radius: var(--radius-12); }
#sec-trending .card-media { aspect-ratio: 4/3; }
#sec-trending .card-meta { color: color-mix(in srgb, var(--brand-gold) 60%, var(--ink-300)); font-weight: 700; }

/* ---- æ—…äººæ•…äº‹å¡ï¼šIG é™å‹•é¢¨æ ¼ ---- */
#sec-stories .card {
  overflow: hidden;
  background: linear-gradient(180deg, color-mix(in srgb, var(--brand-green) 12%, transparent), transparent);
}
#sec-stories .card-media { aspect-ratio: 16/9; }
#sec-stories .card-body {
  position: relative; padding-top: 10px;
}
#sec-stories .card-body::before {
  /* å°é ­åƒå ä½ï¼ˆå¯ç”¨èƒŒæ™¯åœ–è¦†è“‹ï¼‰ */
  content: ""; position: absolute; left: 14px; top: -16px; width: 36px; height: 36px;
  border-radius: 50%; border: 2px solid var(--bg-0);
  background: linear-gradient(135deg, var(--brand-gold), var(--brand-green));
  box-shadow: 0 2px 10px rgba(0,0,0,0.12);
}

/* ---- æ´»å‹•ï¼é™æ™‚ï¼šå…¨å¯¬ Banner + å€’æ•¸æ¢ ---- */
#sec-events .card-list { display: block; } /* å–®åˆ—å…¨å¯¬ */
#sec-events .card {
  display: grid; grid-template-columns: 2fr 3fr; gap: 0;
  border-radius: var(--radius-20);
}
#sec-events .card-media { aspect-ratio: auto; height: 100%; min-height: 180px; }
#sec-events .card-body { display: flex; flex-direction: column; gap: 8px; justify-content: center; }
#sec-events .card-meta {
  position: relative; padding-top: 6px;
}
#sec-events .card-meta::before {
  content: ""; position: absolute; left: 0; right: 0; top: 0; height: 6px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--brand-gold), color-mix(in srgb, var(--brand-gold) 20%, transparent));
  /* ç„¡ JS ç‰ˆæœ¬ï¼šéœæ…‹æ¢ï¼Œä¹‹å¾Œå¯ç”¨ JS ä¾å‰©é¤˜æ™‚é–“èª¿æ•´ width */
}
@media (max-width: 800px) {
  #sec-events .card { grid-template-columns: 1fr; }
}

/* =========================================
   D. å‹•ç•«ï¼šå€å¡Šé€²å ´ï¼ˆNetflix æ©«åˆ—æ„Ÿï¼‰
   ========================================= */
@keyframes rise-fade {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}
section {
  animation: rise-fade .36s ease both;
}
section:nth-of-type(1) { animation-delay: .02s; }
section:nth-of-type(2) { animation-delay: .06s; }
section:nth-of-type(3) { animation-delay: .10s; }
section:nth-of-type(4) { animation-delay: .14s; }
section:nth-of-type(5) { animation-delay: .18s; }

/* =========================================
   E. ç©ºç‹€æ…‹ï¼ˆåœ°çƒ + æ˜Ÿæ˜Ÿ âœ¨ï¼‰
   ========================================= */
#empty-state {
  text-align: center;
  padding: 48px 16px;
  border-radius: var(--radius-20);
  background: var(--glass-bg);
  border: 1px dashed var(--glass-stroke);
  color: var(--ink-700);
}
#empty-state [role="img"] {
  font-size: 40px; margin-bottom: 10px;
}
#empty-state h2 { margin: 0 0 8px; font-size: 20px; }
#empty-state p { margin: 6px 0; }
#empty-state a {
  display: inline-block; margin-top: 10px; padding: 10px 14px; border-radius: 999px;
  background: color-mix(in srgb, var(--brand-green) 18%, var(--ink-100));
  color: #fff; font-weight: 700; border: 1px solid color-mix(in srgb, var(--brand-green) 45%, transparent);
  box-shadow: var(--shadow-1);
}

/* =========================================
   ç´°ç¯€å¾®èª¿
   ========================================= */
figure { margin: 0; }
.card-media img { width: 100%; height: 100%; object-fit: cover; }
.card + .card { /* ç„¡ç¸«é–“è·å„ªåŒ–ï¼ˆå¯ä¿ç•™ï¼‰ */ }