/*************************
 * Heriland – 收藏 (Favorites)
 * scope: #favorites only
 *************************/

/* ===== Theme tokens (local) ===== */
#favorites{
  --hl-bg: #0f1113;
  --hl-text: #e9edf1;
  --hl-sub: #b8c0c7;
  --hl-muted: #9fb0bd;
  --hl-border: rgba(255,255,255,.12);
  --hl-card: rgba(255,255,255,.06);
  --hl-card-strong: rgba(255,255,255,.08);
  --hl-gold: #F6C350;
  --hl-like: #ff5a7a;
}

/* ===== Page layout & scroll safety ===== */
#favorites.vip-view{
  display:flex; flex-direction:column; min-height:100%;
  background:var(--hl-bg); color:var(--hl-text);
  overflow-x:hidden;
}
/* Header（沿用你的整體風格，稍作拋光） */
#favorites.sub-header{
  position: sticky; top:0; z-index: 20;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 16px;
  background: linear-gradient(180deg, rgba(15,17,19,.92), rgba(15,17,19,.5));
  border-bottom:1px solid var(--border);
  backdrop-filter: blur(10px);
}
#favorites .sub-header h3{ margin:0; font-size:18px; font-weight:900; letter-spacing:.2px; }
#favorites .sub-header .left button,
#favorites .sub-header .right button{
  padding:8px 14px; border-radius:999px; border:1px solid var(--border);
  background: rgba(255,255,255,.08); color: var(--text);
}

#favorites .content{
  flex:1 1 auto; min-height:0;
  overflow-y:auto; overflow-x:hidden;
  padding:14px 16px 18px;
  padding-bottom:calc(18px + env(safe-area-inset-bottom, 0px));
}

/* ===== Controls (排序 / 篩選) ===== */
#favorites .fav-controls{
  margin-bottom:12px;
  background:var(--hl-card); border:1px solid var(--hl-border);
  border-radius:14px; padding:10px 12px; backdrop-filter:blur(8px);
}
#favorites .fav-controls .row{
  display:flex; gap:10px; flex-wrap:wrap; align-items:center;
}
#favorites .field{ display:flex; flex-direction:column; gap:6px; min-width:140px; }
#favorites .label{ color:var(--hl-sub); font-size:12px; letter-spacing:.2px; }
#favorites .input{
  min-height:38px; padding:8px 12px; border-radius:12px;
  background:rgba(255,255,255,.06); border:1px solid var(--hl-border);
  color:var(--hl-text); outline:none; max-width:100%;
}
#favorites .input:focus{ border-color:var(--hl-gold); box-shadow:0 0 0 3px rgba(246,195,80,.16); }

/* ===== List ===== */
#favorites .fav-list{ list-style:none; margin:0; padding:0; display:grid; gap:12px; }
#favorites .fav-item{ width:100%; }

/* Card (左圖 / 中資訊 / 右收藏) */
#favorites .fav-card{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  background:var(--hl-card); border:1px solid var(--hl-border);
  border-radius:16px; padding:12px; backdrop-filter:blur(8px);
  box-shadow:0 8px 24px rgba(0,0,0,.18) inset;
  transition:transform .12s ease, background .12s ease, border-color .12s ease;
}
#favorites .fav-card:active{ transform:scale(.996); }

#favorites .fav-main{
  display:flex; align-items:center; gap:12px; text-decoration:none; color:inherit; flex:1 1 auto; min-width:0;
}

/* Thumb：正方形、圓角 12 */
#favorites .thumb{
  width:68px; height:68px; border-radius:12px; overflow:hidden; flex:0 0 auto;
  background:rgba(255,255,255,.08); border:1px solid var(--hl-border);
  display:grid; place-items:center;
}
#favorites .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }

/* Info */
#favorites .info{ display:flex; flex-direction:column; gap:6px; min-width:0; flex:1 1 auto; }
#favorites .name{ margin:0; font-size:16px; font-weight:800; letter-spacing:.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
#favorites .meta{ display:flex; flex-wrap:wrap; gap:6px; }
#favorites .chip{
  display:inline-flex; align-items:center; gap:6px; padding:6px 10px;
  border-radius:999px; font-size:12px; letter-spacing:.2px;
  background:rgba(255,255,255,.08); border:1px solid var(--hl-border); color:var(--hl-text);
}
#favorites .chip.city{ color:#e9edf1; }
#favorites .chip.tag{ color:var(--hl-sub); }
#favorites .sub.tel{ color:var(--hl-muted); font-size:12px; }

/* Actions：收藏切換 */
#favorites .actions{ flex:0 0 auto; display:flex; align-items:center; }
#favorites .fav-toggle{
  width:42px; height:42px; border-radius:50%; border:1px solid var(--hl-border);
  background:rgba(255,255,255,.06); color:#fff; font-size:18px;
  display:grid; place-items:center; cursor:pointer;
  transition:transform .12s ease, background .12s ease, border-color .12s ease;
}
#favorites .fav-toggle:hover{ background:rgba(255,255,255,.12); }
#favorites .fav-toggle:active{ transform:scale(.96); }

/* 已收藏（實心紅）狀態與心跳動效（0.2s） */
#favorites .fav-toggle[aria-pressed="true"]{
  background:rgba(255,90,122,.12); border-color:rgba(255,90,122,.5); color:var(--hl-like);
  animation:pulse-like .2s ease;
}
@keyframes pulse-like{
  0%{ transform:scale(0.9); }
  60%{ transform:scale(1.08); }
  100%{ transform:scale(1); }
}

/* 卡片hover/進入過渡（在行動裝置也會有輕微陰影變化） */
#favorites .fav-card{ animation:fav-fade-in .18s ease both; }
@keyframes fav-fade-in{ from{ opacity:0; transform:translateY(6px);} to{ opacity:1; transform:translateY(0);} }

/* ===== Empty state ===== */
#favorites .empty-state{
  text-align:center; padding:28px 16px; margin-top:8px;
  background:var(--hl-card); border:1px dashed var(--hl-border);
  border-radius:16px; color:var(--hl-sub);
}
#favorites .empty-state .illus{
  font-size:44px; opacity:.7; margin-bottom:8px;
}
#favorites .empty-state h4{ margin:6px 0 4px; font-size:16px; font-weight:800; color:var(--hl-text); }
#favorites .empty-state .muted{ color:var(--hl-muted); font-size:13px; }
#favorites .empty-state .btn{
  margin-top:10px; padding:10px 14px; border-radius:12px;
  border:1px solid var(--hl-border);
  background:rgba(255,255,255,.06); color:var(--hl-text);
}
#favorites .empty-state .btn:hover{ background:rgba(255,255,255,.10); }

/* ===== Utilities & safety ===== */
#favorites .card{ background:var(--hl-card); border:1px solid var(--hl-border); }
#favorites .muted{ color:var(--hl-muted); }
#favorites [hidden]{ display:none !important; }

#favorites, #favorites *{ max-width:100%; box-sizing:border-box; }
#favorites img, #favorites video, #favorites canvas{ max-width:100%; height:auto; display:block; }
#favorites .content, #favorites .vip-view{ overflow-x:hidden; }
