<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Heriland · Sarawak Travel</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="stylesheet" href="./css/heriland-ui.css" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="./css/auth.css" />
   <link rel="stylesheet" href="./css/vip-sub.css" />
<link rel="stylesheet" href="./css/vip.css" />
<link rel="stylesheet" href="./css/trips.css" />
</head>
<body>
<div id="appRoot" class="hl-app theme-scope" data-theme="light"><!-- ← 主題只作用在這裡 -->
<div id="debug" style="white-space:pre; font-size:12px; background:#eee; padding:8px;"></div>
<div class="safe">

  <header class="hdr">
    <h1>Heriland</h1>
	
    <div class="sub">Sarawak · 吃喝玩樂</div>
  </header>
  


  <!-- 1) 分類卡片（兩欄） -->
<section id="homeCats">
  <section id="catGrid" class="cat-grid"></section>
</section>

<!-- 2) 城市滑動（圓形頭像） -->
<section id="homeCities" class="cities">
  <h3 class="sec-title">城市 / 地區</h3>
  <div id="cityRow" class="city-row"></div>
</section>

<!-- 3) 商家卡片清單 -->
<section id="homeList" class="list-wrap">
  <div class="toolbar">
    <div id="activeFilters" class="filters"></div>
    <div class="spacer"></div>
    <button id="clearFilters" class="btn ghost">清除篩選</button>
  </div>
  <main id="cardList" class="cards"></main>
</section>

  
 <!-- 城市專屬頁（預設隱藏） -->
<section id="cityPage" class="city-page hidden" aria-hidden="true">
  <div class="city-topbar">
    <button id="cityBack" class="back-btn" aria-label="返回">←</button>
    <h2 id="cityTitle" class="city-title">City</h2>
  </div>

  <div id="cityHero" class="city-hero"></div>

  <!-- 城市內的分類 Chips -->
  <div id="cityCatChips" class="chips" style="padding-top:8px;"></div>

<!-- ① 城市頁：快速篩選列（Chips + 篩選鈕） -->
<div id="cityQuickFilters" class="city-qf">
  <div class="chips-row" id="cityQuickChips">
    <!-- JS 會動態渲染四顆：最新 / 熱門 / 距離最近 / 評分最高 -->
  </div>

  <!-- 右側「更多篩選」按鈕 -->
  <button id="openFilterSheet" class="btn icon">
    <!-- 漏斗 icon -->
    <svg viewBox="0 0 24 24" width="18" height="18"><path fill="currentColor" d="M3 4h18v2l-7 7v5l-4 2v-7L3 6z"/></svg>
    <span>篩選</span>
  </button>
</div>

<!-- ② 底部抽屜（Bottom Sheet） -->
<div id="filterBackdrop" class="sheet-backdrop" hidden></div>
<div id="filterSheet" class="sheet" aria-hidden="true">
  <div class="sheet-handle"></div>
  <div class="sheet-body">
    <!-- 分類群組：排序（單選） -->
    <div class="sheet-group">
      <div class="g-title">排序</div>
      <div class="opt-grid radio" id="fsSort">
        <!-- JS 會塞入：最新 / 熱門 / 距離最近 / 評分最高 / 營業中 -->
      </div>
    </div>

    <!-- 主題（多選） -->
    <div class="sheet-group">
      <div class="g-title">主題</div>
      <div class="opt-grid" id="fsThemes">
        <!-- JS 會塞入：文化體驗、自然景點、美食推薦、親子友善、夜生活、購物、在地人愛、冷門寶藏 -->
      </div>
    </div>

    <!-- 屬性（多選） -->
    <div class="sheet-group">
      <div class="g-title">屬性</div>
      <div class="opt-grid" id="fsAttrs">
        <!-- JS 會塞入：清真、素食、輪椅友善、寵物友善、英文可、雨天可玩、免費入場 -->
      </div>
    </div>
  </div>

  <!-- 底部操作列 -->
  <div class="sheet-actions">
    <button id="fsReset" class="btn ghost">重置</button>
    <button id="fsApply" class="btn brand">套用</button>
  </div>
</div>

  <!-- 城市內的商家清單 -->
  <main id="cityCardList" class="cards" style="padding:12px 16px 80px;"></main>
</section>


<!-- 商家詳情：Backdrop + Bottom Sheet（手機） -->
<div id="hlDetailBackdrop" class="hl-sheet-backdrop" hidden></div>
<div id="hlDetailSheet" class="hl-sheet" aria-hidden="true">
  <div class="hl-handle"></div>
  <div class="hl-sheet-body">
    <!-- 媒體（封面 16:9 / 短影片占位） -->
    <div class="hl-media">
      <div id="hlDetailMedia" class="hl-media-16x9" style="background-image:url('');"></div>
    </div>

    <!-- 標題區 -->
    <div class="hl-title-row">
  <h3 id="hlDetailTitle" class="hl-title">商家名稱</h3>
  <div style="display:flex;align-items:center;gap:8px;">
    <div id="hlDetailRating" class="hl-rating">★ 4.8</div>
    <button id="hlExpand" class="hl-expand-btn" title="放大/縮小">⛶</button>
  </div>
</div>

    <!-- 標籤 Chips -->
    <div id="hlDetailChips" class="chips"></div>

    <!-- 動作列：收藏 / 導航 / 分享 -->
    <div class="hl-actions">
      <button id="hlActFav" class="hl-action"><span>♥</span><small>收藏</small></button>
      <button id="hlActMap" class="hl-action"><span>📍</span><small>導航</small></button>
      <button id="hlActShare" class="hl-action"><span>↗</span><small>分享</small></button>
    </div>

    <!-- 聯絡資訊 -->
    <div class="hl-contact">
      <a id="hlTel" href="#" class="hl-contact-item">📞 電話</a>
      <a id="hlAddr" href="#" class="hl-contact-item">📍 地址</a>
    </div>

    <!-- 展開內容（上滑全屏時可看） -->
    <div class="hl-section">
      <div id="hlOpenState" class="hl-openstate">營業資訊載入中…</div>
      <p id="hlDesc" class="hl-desc"></p>
    </div>

    <!-- 圖片走馬燈 -->
    <div class="hl-section">
      <div class="hl-gallery" id="hlGallery"></div>
    </div>

    <!-- 主題標籤（可與 chips 不同） -->
    <div class="hl-section">
      <div class="g-title">主題</div>
      <div id="hlThemes" class="chips"></div>
    </div>

    <!-- 鄰近推薦 -->
    <div class="hl-section">
      <div class="g-title">附近推薦（步行 5–10 分鐘）</div>
      <div id="hlNearby" class="hl-nearby"></div>
    </div>

    <!-- 加入行程 -->
    <div class="hl-section">
      <button id="hlAddRoute" class="btn brand wide">加入我的路線</button>
    </div>

    <!-- 關閉空白區域（拉到最下可下滑關閉） -->
    <div style="height: 24px;"></div>
  </div>
</div>

<!-- 商家詳情（桌面版 Page） -->
<section id="detailPage" class="page hidden">
  <header class="page-bar">
    <button id="hlDetailBack" class="btn ghost sm">← 返回</button>
    <h2 class="page-title" id="hlDetailPageTitle">商家詳情</h2>
  </header>
  <div class="hl-detail-grid">
    <div class="hl-detail-left">
      <div id="hlDetailBanner" class="hl-banner"></div>
      <div class="hl-block">
        <h3>圖片</h3>
        <div id="hlDeskGallery" class="hl-gallery"></div>
      </div>
      <div class="hl-block" id="hlDeskMapBlock">
        <h3>地圖定位</h3>
        <div id="hlDeskMapNote" class="hl-map-note">點擊導航按鈕開啟地圖</div>
      </div>
      <div class="hl-block">
        <h3>附近推薦</h3>
        <div id="hlDeskNearby" class="hl-nearby"></div>
      </div>
      <!-- 可再加：評論區 -->
    </div>
    <aside class="hl-detail-right">
      <div class="hl-block">
        <h3 id="hlDeskTitle">商家名稱</h3>
        <div id="hlDeskRating" class="hl-rating">★ 4.8</div>
        <div id="hlDeskChips" class="chips" style="margin-top:8px;"></div>
        <div class="hl-actions" style="margin-top:10px;">
          <button id="hlDeskFav" class="hl-action"><span>♥</span><small>收藏</small></button>
          <button id="hlDeskMap" class="hl-action"><span>📍</span><small>導航</small></button>
          <button id="hlDeskShare" class="hl-action"><span>↗</span><small>分享</small></button>
        </div>
      </div>
      <div class="hl-block">
        <h4>聯絡資訊</h4>
        <div id="hlDeskTel"></div>
        <div id="hlDeskAddr"></div>
      </div>
      <div class="hl-block">
        <h4>營業時間</h4>
        <div id="hlDeskOpen"></div>
      </div>
      <div class="hl-block">
        <h4>描述</h4>
        <p id="hlDeskDesc" class="hl-desc"></p>
      </div>
      <div class="hl-block">
        <button id="hlDeskAddRoute" class="btn brand wide">加入我的路線</button>
      </div>
    </aside>
  </div>
</section>

<!-- VIP Shell（膠囊 + 面板是一體） -->
<div id="vipShell" class="vip-shell" aria-hidden="true">
  <!-- 半露出的膠囊把手 -->
  <button id="vipHandle" class="vip-handle" class="vip-handle" aria-label="打開 VIP">
   
  </span>
    
  </button>

  <!-- 面板內容（一體式，跟著 shell 一起滑入） -->
  <div id="vipPanel" class="vip-panel" role="dialog" aria-modal="true">
    


<div class="vip-content">

<!-- 儀表板：上面的會員卡 + 6 顆功能模組 -->
<section id="vipDashboard" class="vip-view show">
  <!-- 你的會員卡區（保留現有樣式） -->
  <!-- VIP 卡片：同一位置放兩個狀態版 → 用 JS 切換 hidden -->
<!-- VIP 卡片容器 -->
<section id="vipCard" class="vip-card guest">
  <!-- 未登入狀態 -->
  <div class="vip-card-guest">
    <div class="card-sheen"></div>
    <h3 class="brand">Heriland</h3>
    <p class="hint">立即登入／註冊 → 解鎖你的旅遊護照</p>
    <button id="vipLoginBtn" class="btn gold">立即登入</button>
  </div>
  
  <!-- 已登入狀態 -->
  <div class="vip-card-member" hidden>
  <div class="card-sheen"></div>

  <h3 class="brand">Heriland
    <span id="vipTierPill" class="pill">GOLD</span>
  </h3>

  <p class="meta"><span class="label">No.</span>
    <span id="vipNo">HL-2025-00123</span>
  </p>

  <h2 id="vipPoints" class="points">12,480</h2>

  <p class="meta">
    等級：<span id="vipTier">Gold</span>
   　有效：<span id="vipExpire">2026/12/31</span>
  </p>

  <button id="vipPerkBtn" class="perk-hint">
    🎁 你有 <b id="vipPerkCount">3</b> 個 Gold 專屬優惠
  </button>
  </div>
  </section>

  <!-- 6 功能按鈕 -->    
		<div class="vip-grid">
			<button class="feature-card" data-target="trips"><span class="ico">🧳</span><span>我的旅程</span></button>
			<button class="feature-card" data-target="favorites"><span class="ico">❤️</span><span>收藏</span></button>
			<button class="feature-card" data-target="footprints"><span class="ico">📍</span><span>足跡</span></button>
			<button class="feature-card" data-target="recommend"><span class="ico">✨</span><span>推薦</span></button>
			<button class="feature-card" data-target="badges"><span class="ico">🏅</span><span>徽章</span></button>
			<button class="feature-card" data-target="settings"><span class="ico">⚙️</span><span>更多設定</span></button>
		</div>
		
		<!-- 轮播图：就放在这里 -->
<section id="vipPromo" class="vip-carousel">
  <div class="vip-carousel-track">
    <a class="vip-slide" href="#">
      <img src="img/promo-taipei.jpg" alt="Gold 會員專屬 – 台北古蹟 10% OFF">
      <div class="vip-slide-caption">
        <h4>Gold 會員專屬</h4><p>台北古蹟 10% OFF</p>
      </div>
    </a>
    <a class="vip-slide" href="#">
      <img src="img/promo-hk.jpg" alt="香港 City Pass 限時 88 折">
      <div class="vip-slide-caption">
        <h4>限時優惠</h4><p>香港 City Pass 88 折</p>
      </div>
    </a>
    <a class="vip-slide" href="#">
      <img src="img/promo-okinawa.jpg" alt="沖繩自駕 優惠租車">
      <div class="vip-slide-caption">
        <h4>沖繩自駕</h4><p>優惠租車</p>
      </div>
    </a>
  </div>

  <button class="vip-ctrl prev" aria-label="上一張">‹</button>
  <button class="vip-ctrl next" aria-label="下一張">›</button>
  <div class="vip-dots" role="tablist" aria-label="carousel indicators"></div>
</section>
		
 </section>
		
		<section id="trips" class="vip-view" hidden>
  <!-- 頂部導覽：左上返回會員中心、右上回首頁 -->
  <header class="sub-header">
    <div class="left">
      <button type="button" data-back aria-label="返回會員中心">← 返回</button>
    </div>
    <h3>我的旅程</h3>
    <div class="right">
      <button type="button" id="hlGoHome" aria-label="回首頁">HeriLand</button>
    </div>
  </header>

  <div class="content">

    <!-- A. 旅程封面卡：有旅程 / 無旅程 -->
    <section id="tripHero" class="hero-card" aria-labelledby="tripHeroTitle">
      <!-- 有旅程時顯示 -->
      <div class="hero-body" id="tripHeroHasData" hidden>
        <img class="hero-cover" id="tripHeroCover" alt="旅程封面圖" />
        <div class="hero-info">
          <h4 id="tripHeroTitle">古晉三日遊</h4>
          <p id="tripHeroDates" class="muted">2025/10/01 – 2025/10/03</p>
          <div class="hero-actions">
            <button type="button" id="btnEditTrip" class="btn">編輯</button>
            <button type="button" id="btnShareTrip" class="btn">分享</button>
          </div>
        </div>
      </div>

      <!-- 無旅程時顯示 -->
      <div class="hero-empty" id="tripHeroEmpty">
        <div class="hero-illustration" aria-hidden="true">🗺️</div>
        <p>還沒有旅程，先新增一個吧！</p>
        <button type="button" id="btnOpenCreate" class="btn gold">＋ 新增旅程</button>
      </div>
    </section>

    <!-- B. Tabs 分頁 -->
    <nav class="tabs" role="tablist" aria-label="我的旅程分頁">
      <button class="tab" role="tab" id="tab-plan"   aria-controls="panel-plan"   aria-selected="true">規劃中</button>
      <button class="tab" role="tab" id="tab-pack"   aria-controls="panel-pack"   aria-selected="false">行李清單</button>
      <button class="tab" role="tab" id="tab-diary"  aria-controls="panel-diary"  aria-selected="false">旅程記錄</button>
      <button class="tab" role="tab" id="tab-share"  aria-controls="panel-share"  aria-selected="false">分享</button>
    </nav>

    <!-- Panels：四個分頁 -->
    <!-- 1) 規劃中 -->
    <section id="panel-plan" class="panel section" role="tabpanel" aria-labelledby="tab-plan">
      <!-- 控制列：新增卡片、分日排序、備註 -->
      <div class="plan-controls">
        <div class="plan-row">
          <input class="input" id="planPlace" placeholder="新增商家／景點（例如：瑪貢咖啡）" />
          <input class="input" id="planDay"   placeholder="Day 1 / Day 2…" style="max-width:120px" />
          <input class="input" id="planNote"  placeholder="備註（例：下午 2:00 入場）" />
          <button type="button" id="btnPlanAdd" class="btn">＋ 新增</button>
        </div>
      </div>

      <!-- 卡片列表：樣式同城市頁商家卡片 -->
      <div class="plan-list" id="planList" aria-live="polite"></div>

      <!-- 空狀態 -->
      <p class="empty" id="planEmpty">尚未加入任何規劃</p>
    </section>

    <!-- 2) 行李清單 -->
    <section id="panel-pack" class="panel section" role="tabpanel" aria-labelledby="tab-pack" hidden>
      <!-- 預設清單 + 新增列 -->
      <div class="pack-add">
        <input class="input" id="packNewItem" placeholder="新增項目（例如：防曬乳）" />
        <button type="button" id="btnPackAdd" class="btn">加入</button>
      </div>

      <div class="pack-columns">
        <div class="pack-col">
          <h4 class="col-title">待準備</h4>
          <ul id="packTodo" class="pack-list" aria-label="待準備清單">
            <!-- 預設項目（稍後由 JS 填） -->
          </ul>
        </div>
        <div class="pack-col">
          <h4 class="col-title">已準備好</h4>
          <ul id="packDone" class="pack-list" aria-label="已準備清單"></ul>
        </div>
      </div>
    </section>

    <!-- 3) 旅程記錄（時間軸） -->
    <section id="panel-diary" class="panel section" role="tabpanel" aria-labelledby="tab-diary" hidden>
      <div class="diary-controls">
        <div class="plan-row">
          <input class="input" id="diaryDay" placeholder="Day 1 / Day 2…" style="max-width:120px" />
          <input class="input" id="diaryPlace" placeholder="商家／景點名稱" />
          <input class="input" id="diaryNote" placeholder="紀錄（可加圖片，之後支援上傳）" />
          <button type="button" id="btnDiaryAdd" class="btn">＋ 新增紀錄</button>
        </div>
      </div>

      <!-- 時間軸 -->
      <ol class="timeline" id="diaryTimeline" aria-live="polite">
        <!-- 之後以 li.timeline-item 注入 -->
      </ol>

      <!-- 空狀態 -->
      <p class="empty" id="diaryEmpty">尚無任何旅程記錄</p>
    </section>

    <!-- 4) 分享 -->
    <section id="panel-share" class="panel section" role="tabpanel" aria-labelledby="tab-share" hidden>
      <div class="share-card card">
        <div class="share-head">
          <div>
            <div class="title">分享你的旅程</div>
            <div class="muted">可輸出旅程卡（圖片）或 PDF 行程表</div>
          </div>
          <div class="btns">
            <button type="button" id="btnOpenShare" class="btn">打開分享面板</button>
            <button type="button" id="btnCopyLink" class="btn secondary">複製分享連結</button>
          </div>
        </div>
      </div>
    </section>

  </div><!-- /content -->

  <!-- C. 底部浮動「新增旅程」按鈕 -->
  <button type="button" id="fabAddTrip" class="fab" aria-label="新增旅程">＋</button>

  <!-- 新增/編輯旅程表單（底部彈窗／sheet） -->
  <div id="createBackdrop" class="backdrop" hidden></div>
  <div id="createSheet" class="sheet" role="dialog" aria-modal="true" aria-labelledby="createTitle" hidden>
    <div class="sheet-head">
      <h4 id="createTitle">新增旅程</h4>
      <button type="button" id="createClose" class="btn secondary" aria-label="關閉">關閉</button>
    </div>

    <form id="createForm" class="sheet-body">
      <label class="field">
        <span class="label">行程名稱</span>
        <input class="input" id="tripName" placeholder="例如：古晉三日遊" />
      </label>
      <div class="field-row">
        <label class="field">
          <span class="label">開始日期</span>
          <input class="input" id="tripStart" type="date" />
        </label>
        <label class="field">
          <span class="label">結束日期</span>
          <input class="input" id="tripEnd" type="date" />
        </label>
      </div>
      <label class="field">
        <span class="label">封面圖</span>
        <div class="cover-picker">
          <button type="button" class="btn secondary" id="btnPickSystem">選擇系統圖片</button>
          <input type="file" id="tripCoverUpload" accept="image/*" hidden />
          <button type="button" class="btn secondary" id="btnPickUpload">上傳圖片</button>
        </div>
      </label>

      <div class="sheet-actions">
        <button type="button" id="createSubmit" class="btn gold">建立旅程</button>
      </div>
    </form>
  </div>

  <!-- 分享面板（底部彈出） -->
  <div id="shareBackdrop" class="backdrop" hidden></div>
  <div id="shareSheet" class="sheet" role="dialog" aria-modal="true" aria-labelledby="shareTitle" hidden>
    <div class="sheet-head">
      <h4 id="shareTitle">分享 / 匯出</h4>
      <button type="button" id="shareClose" class="btn secondary" aria-label="關閉">關閉</button>
    </div>

    <div class="sheet-body">
      <div class="share-grid">
        <a href="#" class="share-btn" data-channel="line" aria-label="LINE 分享">💬 LINE</a>
        <a href="#" class="share-btn" data-channel="whatsapp" aria-label="WhatsApp 分享">🟢 WhatsApp</a>
        <a href="#" class="share-btn" data-channel="facebook" aria-label="Facebook 分享">🔵 Facebook</a>
        <a href="#" class="share-btn" data-channel="copy" aria-label="複製連結">🔗 複製連結</a>
      </div>
      <div class="share-extra">
        <button type="button" id="btnExportImage" class="btn">生成旅程卡（圖片）</button>
        <button type="button" id="btnExportPDF" class="btn secondary">匯出 PDF 行程表</button>
      </div>
    </div>
  </div>

  <!-- 模板：之後 JS 會 clone 這些來生成卡片/項目 -->
  <template id="tpl-plan-card">
    <article class="card place-card" draggable="true">
      <div class="badge"><span class="day">Day 1</span></div>
      <h4 class="title">商家 / 景點名稱</h4>
      <p class="note muted">備註文字</p>
      <div class="meta">
        <span class="created muted">加入於 2025/09/10</span>
        <button class="drag-handle" title="拖曳排序" aria-label="拖曳排序">⋮⋮</button>
      </div>
      <div class="actions">
        <button class="btn secondary btn-edit">編輯</button>
        <button class="btn secondary btn-delete">刪除</button>
      </div>
    </article>
  </template>

  <template id="tpl-pack-item">
    <li class="pack-item">
      <label class="check">
        <input type="checkbox" />
        <span class="text">護照</span>
      </label>
      <button class="btn secondary btn-del" aria-label="刪除">刪除</button>
    </li>
  </template>

  <template id="tpl-diary-item">
    <li class="timeline-item">
      <div class="dot" aria-hidden="true"></div>
      <div class="card">
        <div class="head">
          <strong class="day">Day 1</strong>
          <span class="time muted">14:00</span>
        </div>
        <div class="title">打卡：景點名稱</div>
        <div class="note muted">補充描述…（之後可加圖片）</div>
      </div>
    </li>
  </template>

</section>

		<!-- 收藏子頁面 -->
<section id="favorites" class="vip-view" hidden>
  <!-- 2) Header：左 ← 回會員中心；右 HeriLand 回首頁 -->
  <header class="sub-header">
    <div class="left">
      <button type="button" data-back aria-label="返回會員中心">← 返回</button>
    </div>
    <h3>收藏</h3>
    <div class="right">
      <button type="button" id="hlGoHome" aria-label="回首頁">HeriLand</button>
    </div>
  </header>

  <!-- 3) 內容區 -->
  <div class="content">

    <!-- B. 排序 / 篩選（不含邏輯，純結構） -->
    <section class="fav-controls" aria-label="排序與篩選">
      <div class="row">
        <label class="field">
          <span class="label">排序</span>
          <select id="favSort" class="input" aria-label="收藏排序">
            <option value="latest" selected>最新收藏（預設）</option>
            <option value="city">按城市</option>
            <option value="category">按類別</option>
          </select>
        </label>

        <label class="field">
          <span class="label">城市</span>
          <select id="favCity" class="input" aria-label="城市篩選">
            <option value="">全部城市</option>
            <!-- 之後以 JS 注入城市選項 -->
          </select>
        </label>

        <label class="field">
          <span class="label">類別</span>
          <select id="favCategory" class="input" aria-label="類別篩選">
            <option value="">全部類別</option>
            <option value="eat">吃</option>
            <option value="drink">喝</option>
            <option value="play">玩</option>
            <option value="fun">樂</option>
          </select>
        </label>
      </div>
    </section>

    <!-- A. 卡片列表（單欄；樣式交給 CSS；點卡進詳情的邏輯留給 JS） -->
    <section class="fav-list-wrap" aria-live="polite">
      <ul id="favList" class="fav-list" role="list">
        <!-- 之後由 JS 生成 <li>…</li>；下面提供模板 -->
      </ul>

      <!-- C. 空狀態 -->
      <div id="favEmpty" class="empty-state" hidden>
        <div class="illus" aria-hidden="true">🤍</div>
        <h4>你還沒有收藏任何商家</h4>
        <p class="muted">快去探索並點擊 ❤️ 收藏吧！</p>
        <button type="button" id="favGoExplore" class="btn">去探索</button>
      </div>
    </section>

  </div><!-- /content -->

  <!-- 模板：收藏卡片（單欄毛玻璃卡） -->
  <template id="tpl-fav-item">
    <li class="fav-item" role="listitem">
      <article class="card fav-card" data-merchant-id="">
        <a class="fav-main" href="#" aria-label="查看商家詳情">
          <div class="thumb">
            <!-- 正方形圖（預設比例 1:1），若無圖可顯示 Logo 或字母 -->
            <img src="" alt="" />
          </div>
          <div class="info">
            <h4 class="name">商家名稱</h4>
            <div class="meta">
              <span class="chip city">城市名</span>
              <span class="chip tag">標籤</span>
            </div>
            <div class="sub muted tel">電話：—</div>
          </div>
        </a>
        <div class="actions">
          <!-- 收藏 ❤️：aria-pressed 表示是否已收藏；之後 JS 切換 -->
          <button type="button" class="fav-toggle" aria-label="切換收藏" aria-pressed="true" title="取消收藏">❤️</button>
        </div>
      </article>
    </li>
  </template>
</section>

		
		<section id="footprints" class="vip-view" hidden>
			<header class="sub-header"><button data-back>返回</button><h3>足跡</h3></header>
			<div class="content">
			
			
			
			</div>
		</section>
    
    <section id="recommend" class="vip-view" hidden>
			<!-- 📌 A. 頁面入口：會員中心的【推薦】子頁面 -->

  <!-- B. Header -->
  <header role="banner" aria-label="推薦頁面導覽列">
    <nav aria-label="主要導覽">
      <!-- 左上角：返回會員中心 -->
      <a id="btn-back-member" href="member.html" aria-label="返回會員中心">←</a>
      <!-- 中間：標題 -->
      <h1 id="page-title">推薦</h1>
      <!-- 右上角：回首頁 -->
      <a id="btn-home" href="/" aria-label="回到首頁">HeriLand</a>
    </nav>
  </header>
			<div class="content">
        
        <main id="recommend-root" role="main" aria-labelledby="page-title">

    <!-- E. 空狀態（預設可先顯示；接上資料後由前端決定是否隱藏） -->
    <section id="empty-state" aria-live="polite">
      <div role="img" aria-label="星星與地圖插圖">✨🗺️</div>
      <h2>還沒有可推薦的內容</h2>
      <p>請先收藏或探索一些商家，我們才能為你推薦！</p>
      <!-- 可放導引連結 -->
      <p><a href="/explore.html" aria-label="前往探索頁">去探索</a></p>
    </section>

    <!-- C. 分段內容模組（有資料時顯示；每段 4–6 張卡） -->

    <!-- C1. 為你推薦城市：來源=用戶收藏 / 足跡最多的城市 -->
    <section id="sec-city-for-you" aria-labelledby="sec-city-for-you-title" hidden>
      <header>
        <h2 id="sec-city-for-you-title">為你推薦城市</h2>
        <div class="chips" aria-label="推薦理由">
          <span class="chip" data-chip="reason">因為你收藏了古晉夜市</span>
        </div>
      </header>
      <ul class="card-list" aria-label="城市相關推薦清單">
        <!-- 4–6 張卡片 -->
        <li class="card" data-source="city-for-you" data-city-id="kuching">
          <a class="card-link" href="/place/xyz.html" aria-label="查看商家／景點詳情">
            <figure class="card-media" aria-label="圖片">
              <img src="" alt="景點／商家圖片（占位）" />
            </figure>
            <div class="card-body">
              <h3 class="card-title">古晉河濱公園</h3>
              <p class="card-subtitle">景點・Kuching</p>
              <p class="card-meta">⭐ 4.6・1.2k+ 評價</p>
            </div>
          </a>
          <!-- D. 卡片互動 -->
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <li class="card" data-source="city-for-you" data-city-id="kuching">
          <a class="card-link" href="/place/abc.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">砂拉越文化村</h3>
              <p class="card-subtitle">景點・Kuching</p>
              <p class="card-meta">⭐ 4.7・3.1k+ 評價</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <!-- …可再補 2–4 張 -->
      </ul>
    </section>

    <!-- C2. 猜你會喜歡：來源=相似類型（例如收藏咖啡館 → 更多咖啡館） -->
    <section id="sec-you-may-like" aria-labelledby="sec-you-may-like-title" hidden>
      <header>
        <h2 id="sec-you-may-like-title">猜你會喜歡</h2>
        <div class="chips" aria-label="推薦理由">
          <span class="chip" data-chip="similar">和你收藏的咖啡館相似</span>
        </div>
      </header>
      <ul class="card-list" aria-label="相似類型推薦清單">
        <li class="card" data-source="you-may-like" data-tag="cafe">
          <a class="card-link" href="/place/cafe-001.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">木森咖啡</h3>
              <p class="card-subtitle">咖啡館・Sibu</p>
              <p class="card-meta">⭐ 4.5・680+ 評價</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <li class="card" data-source="you-may-like" data-tag="cafe">
          <a class="card-link" href="/place/cafe-002.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">河岸手沖吧</h3>
              <p class="card-subtitle">咖啡館・Kuching</p>
              <p class="card-meta">⭐ 4.8・1.1k+ 評價</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <!-- …可再補 2–4 張 -->
      </ul>
    </section>

    <!-- C3. 熱門體驗：來源=全體用戶熱門（排除該用戶已看過/互動過） -->
    <section id="sec-trending" aria-labelledby="sec-trending-title" hidden>
      <header>
        <h2 id="sec-trending-title">熱門體驗</h2>
        <div class="chips" aria-label="推薦理由">
          <span class="chip" data-chip="trending">大家都在去</span>
        </div>
      </header>
      <ul class="card-list" aria-label="熱門體驗清單">
        <li class="card" data-source="trending" data-exp-id="exp-001">
          <a class="card-link" href="/experience/exp-001.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">古晉夜市覓食之旅</h3>
              <p class="card-subtitle">體驗・Kuching</p>
              <p class="card-meta">🔥 近 24 小時 2.3k 人查看</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <li class="card" data-source="trending" data-exp-id="exp-002">
          <a class="card-link" href="/experience/exp-002.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">姆魯國家公園一日洞穴探險</h3>
              <p class="card-subtitle">體驗・Miri</p>
              <p class="card-meta">🔥 本週熱門 TOP 10</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>

        <!-- …可再補 2–4 張 -->
      </ul>
    </section>

    <!-- C4. 旅人故事 / 靈感卡（可選）：公開行程縮圖卡 -->
    <section id="sec-stories" aria-labelledby="sec-stories-title" hidden>
      <header>
        <h2 id="sec-stories-title">旅人故事</h2>
      </header>
      <ul class="card-list" aria-label="旅人故事清單">
        <li class="card" data-source="stories" data-itinerary-id="it-001">
          <a class="card-link" href="/share/it-001.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">三天兩夜｜古晉美食＋文化散步</h3>
              <p class="card-subtitle">by @Traveler Mei</p>
              <p class="card-meta">包含 8 個景點・2 家咖啡館</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-add" data-action="import" aria-label="匯入到我的旅程">➕ 匯入</button>
            <a class="btn-share" href="/share/export.html" aria-label="前往分享／匯出模組">分享 / 匯出</a>
          </div>
        </li>
        <!-- …可再補 3–5 張 -->
      </ul>
    </section>

    <!-- C5. 活動 / 限時卡（可選）：支援倒數資訊 -->
    <section id="sec-events" aria-labelledby="sec-events-title" hidden>
      <header>
        <h2 id="sec-events-title">活動・限時</h2>
      </header>
      <ul class="card-list" aria-label="活動清單">
        <li class="card" data-source="events" data-event-id="evt-001">
          <a class="card-link" href="/event/evt-001.html">
            <figure class="card-media"><img src="" alt=""/></figure>
            <div class="card-body">
              <h3 class="card-title">古晉美食節 2025</h3>
              <p class="card-subtitle">Kuching</p>
              <p class="card-meta" data-countdown="2025-09-15T23:59:59+08:00">還剩 3 天</p>
            </div>
          </a>
          <div class="card-actions" role="group" aria-label="卡片操作">
            <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
            <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
            <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
          </div>
        </li>
        <!-- …可再補 3–5 張 -->
      </ul>
    </section>

  </main>

  <!-- 模板區（供工程師用 JS 複製渲染） -->
  <template id="tpl-card">
    <li class="card">
      <a class="card-link" href="#">
        <figure class="card-media"><img src="" alt=""/></figure>
        <div class="card-body">
          <h3 class="card-title">標題</h3>
          <p class="card-subtitle">副標</p>
          <p class="card-meta">額外資訊</p>
        </div>
      </a>
      <div class="card-actions" role="group" aria-label="卡片操作">
        <button type="button" class="btn-fav" data-action="fav" aria-label="加入收藏">❤️</button>
        <button type="button" class="btn-add" data-action="add" aria-label="加入我的旅程">➕</button>
        <button type="button" class="btn-hide" data-action="hide" aria-label="不感興趣">🚫</button>
      </div>
    </li>
  </template>
        
      </div>
		</section>
		
		
		
		<section id="badges" class="vip-view" hidden>
			<header class="sub-header"><button data-back>返回</button><h3>徽章</h3></header>
			<div class="content">…你的旅程內容…</div>
		</section>
		
		<section id="settings" class="vip-view" hidden>
			<header class="sub-header"><button data-back>返回</button><h3>設定</h3></header>
			<div class="content">…你的旅程內容…</div>
		</section>

<!-- Heriland Auth Modal -->
<div id="hlAuthModal" class="hl-auth-backdrop" aria-hidden="true">
  <div class="hl-auth-panel">
    <button id="hlAuthClose" class="hl-auth-close">×</button>

    <!-- Login -->
    <section id="hlLoginView" class="hl-auth-view">
      <h3 id="hlAuthTitle">登入 Heriland</h3>

      <div class="hl-field">
        <label for="hlLoginAccount">帳號（電話 / Email）</label>
        <input id="hlLoginAccount" type="text" inputmode="email" autocomplete="username" placeholder="phone or email" />
        <p class="hl-err" id="hlLoginAccountErr"></p>
      </div>

      <div class="hl-field">
        <label for="hlLoginPassword">密碼</label>
        <input id="hlLoginPassword" type="password" autocomplete="current-password" placeholder="••••••••" />
        <p class="hl-err" id="hlLoginPasswordErr"></p>
      </div>

      <button id="hlDoLogin" class="hl-btn-primary hl-full">登入</button>

      <div class="hl-quick">
        <span class="hl-quick-label">快速登入</span>
        <button class="hl-quick-btn" data-provider="google" aria-label="Google login">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="" />Google
        </button>
        <button class="hl-quick-btn" data-provider="apple" aria-label="Apple login">🍎 Apple</button>
        <button class="hl-quick-btn" data-provider="facebook" aria-label="Facebook login">f Facebook</button>
      </div>

      <div class="hl-auth-links">
        <button class="hl-link" id="hlForgot">忘記密碼</button>
        <span class="hl-sep">·</span>
        <button class="hl-link" id="hlGoRegister">還不是會員？立即註冊</button>
      </div>
    </section>

    <!-- Register -->
    <section id="hlRegisterView" class="hl-auth-view" hidden>
      <h3>建立新帳號</h3>

      <div class="hl-field">
        <label for="hlRegName">姓名</label>
        <input id="hlRegName" type="text" placeholder="您的姓名" />
        <p class="hl-err" id="hlRegNameErr"></p>
      </div>

      <div class="hl-field">
        <label for="hlRegAccount">電話 / Email</label>
        <input id="hlRegAccount" type="text" inputmode="email" autocomplete="username" />
        <p class="hl-err" id="hlRegAccountErr"></p>
      </div>

      <div class="hl-field">
        <label for="hlRegPwd">密碼</label>
        <input id="hlRegPwd" type="password" autocomplete="new-password" />
        <p class="hl-err" id="hlRegPwdErr"></p>
      </div>

      <div class="hl-field">
        <label for="hlRegPwd2">確認密碼</label>
        <input id="hlRegPwd2" type="password" autocomplete="new-password" />
        <p class="hl-err" id="hlRegPwd2Err"></p>
      </div>
	  
	  <div class="social-login">
  <button class="social-btn google">
    <img src="img/google.svg" alt="Google" />
    Google
  </button>
  <button class="social-btn apple">
    <img src="img/apple.svg" alt="Apple" />
    Apple
  </button>
  <button class="social-btn facebook">
    <img src="img/facebook.svg" alt="Facebook" />
    Facebook
  </button>
</div>


      <button id="hlDoRegister" class="hl-btn-primary hl-full">註冊</button>

      <div class="hl-auth-links">
        <button class="hl-link" id="hlBackToLogin">返回登入</button>
      </div>
    </section>

    <!-- Toast -->
    <div id="hlToast" class="hl-toast" role="status" aria-live="polite"></div>
  </div>
</div>
</div>
</div>

<!-- 霧化背景 -->
<div id="vipBackdrop" class="vip-backdrop" hidden></div>


  <footer class="ft">
    <div class="hint">Tip：點分類或城市可篩選 · 卡片上的「最新 / 熱點」為動態標籤</div>
  </footer>
</div>

<!-- 先載標籤與城市，最後載商家；然後才是你的 app.js -->

<script src="./js/tags.js"></script>
<script src="./js/cities.js"></script>
<script src="./js/merchants.js" ></script>
<script src="./js/app.js"></script>
<script src="./js/vip.js"></script>
<script src="./js/vip-gate.js"></script>
<script src="./js/auth.js"></script>
<script src="./js/vip-sub.js"></script>
<script src="./js/vip-slider.js"></script>
<script src="./js/trips.js"></script>
<script src="./js/favorites.js"></script>

</div>
</body>
</html>



